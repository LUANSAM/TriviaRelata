<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relat√≥rio Fotogr√°fico - Trivia Trens</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header class="app-header">
            <div class="header-brand">
                <h1>Relat√≥rio Fotogr√°fico</h1>
            </div>
            <div class="header-logo">
                <img src="{{ url_for('serve_asset_file', filename='logo.png') }}" alt="Logo Trivia">
            </div>
        </header>

        <div class="form-container">
            <!-- Informa√ß√µes do Relat√≥rio -->
            <section class="form-section">
                <h2>INFORMA√á√ïES DO RELAT√ìRIO</h2>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="titulo">T√≠tulo do Relat√≥rio</label>
                        <input type="text" id="titulo" placeholder="Ex: Inspe√ß√£o de Vag√µes - Janeiro 2026" required>
                    </div>

                    <div class="form-group">
                        <label for="local">Local</label>
                        <input type="text" id="local" placeholder="Ex: P√°tio Central" required>
                    </div>

                    <div class="form-group">
                        <label for="sistemaRef">Sistema</label>
                        <input type="text" id="sistemaRef" placeholder="Ex: Linha Norte" required>
                    </div>

                    <div class="form-group">
                        <label for="data">Data</label>
                        <input type="date" id="data" required>
                    </div>

                    <div class="form-group">
                        <label for="sistema">Emitido por</label>
                        <input type="text" id="sistema" placeholder="Ex: Sistema de Manuten√ß√£o" required>
                    </div>
                </div>
            </section>

            <!-- Upload de Fotos -->
            <section class="form-section">
                <h2>FOTOS E OBSERVA√á√ïES</h2>
                
                <div id="fotosContainer" class="fotos-container"></div>
            </section>

            <!-- Bot√µes de A√ß√£o -->
            <div class="action-buttons">
                <button id="btnReiniciar" class="btn btn-secondary">
                    Reiniciar Relat√≥rio
                </button>
                <button id="btnGerar" class="btn btn-primary">
                    Gerar PDF
                </button>
            </div>
        </div>

        <!-- Floating Action Button -->
        <button class="fab" id="fabAddPhoto" title="Adicionar Fotos">
            <span class="fab-icon">‚ûï</span>
        </button>

        <!-- Modal de Upload -->
        <div id="uploadModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Adicionar Fotos</h3>
                    <button class="modal-close" id="modalClose">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="fileInputGallery" accept="image/*" multiple style="display: none;">
                        <input type="file" id="fileInputCamera" accept="image/*" capture="environment" multiple style="display: none;">
                        <div class="upload-icon">üì§</div>
                        <p class="upload-text">Clique ou arraste fotos aqui</p>
                        <p class="upload-subtext">Escolha entre galeria ou c√¢mera (JPG, PNG, WEBP - m√°x. 50 fotos)</p>
                        <div class="upload-actions">
                            <button type="button" class="btn btn-secondary" id="btnSelectGallery">Galeria</button>
                            <button type="button" class="btn btn-primary" id="btnSelectCamera">C√¢mera</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="loading-overlay">
            <div class="loading-spinner"></div>
            <p>Gerando seu relat√≥rio...</p>
        </div>

        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
